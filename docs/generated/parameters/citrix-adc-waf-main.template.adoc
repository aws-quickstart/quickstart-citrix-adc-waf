
.VPC network configuration
[width="100%",cols="16%,11%,73%",options="header",]
|===
|Parameter label (name) |Default value|Description|Primary Availability Zone
(`PrimaryAvailabilityZone`)|`**__Requires input__**`|Availability Zone for primary Citrix WAF deployment.|Secondary Availability Zone
(`SecondaryAvailabilityZone`)|`**__Requires input__**`|Availability Zone for secondary Citrix WAF deployment.|VPC CIDR
(`VPCCIDR`)|`10.0.0.0/16`|CIDR block for the VPC. Must be a valid IP CIDR range of the form x.x.x.x/x.|Restricted web app CIDR
(`RestrictedWebAppCIDR`)|`**__Requires input__**`|CIDR block that is allowed to access the web apps behind WAF on TCP ports 80, 443. We recommend that you use a constrained CIDR range to reduce the potential of inbound attacks from unknown IP addresses. Using 0.0.0.0/0 enables all IP addresses to access your instance using SSH.|Restricted SSH CIDR
(`RestrictedSSHCIDR`)|`**__Requires input__**`|CIDR block that is allowed to access the bastion host (if present) or WAF management interface on port 22. We recommend that you use a constrained CIDR range to reduce the potential of inbound attacks from unknown IP addresses. Note:  Since the WAF management interface is deployed in a private subnet, initiate the SSH connection from a host with network connectivity to this private subnet, like bastion host or on-premises host with AWS Direct Connect.|Primary management private subnet CIDR
(`PrimaryManagementPrivateSubnetCIDR`)|`10.0.1.0/24`|CIDR block for the primary management private subnet located in the primary Availability Zone.|Primary client public subnet CIDR
(`PrimaryClientPublicSubnetCIDR`)|`10.0.2.0/24`|CIDR block for the primary client public subnet located in the primary Availability Zone.|Primary server private subnet CIDR
(`PrimaryServerPrivateSubnetCIDR`)|`10.0.3.0/24`|CIDR block for the primary server private subnet located in the primary Availability Zone.|Secondary management private subnet CIDR
(`SecondaryManagementPrivateSubnetCIDR`)|`10.0.4.0/24`|CIDR block for the secondary management private subnet located in the secondary Availability Zone.|Secondary client public subnet CIDR
(`SecondaryClientPublicSubnetCIDR`)|`10.0.5.0/24`|CIDR block for the secondary client public subnet located in the secondary Availability Zone.|Secondary server private subnet CIDR
(`SecondaryServerPrivateSubnetCIDR`)|`10.0.6.0/24`|CIDR block for the secondary server private subnet located in the secondary Availability Zone.|Primary management private IP (NSIP)
(`PrimaryManagementPrivateIP`)|`**__Blank string__**`|(Optional) Private IP address of the primary Citrix WAF instance's management network interface. If you want to provide your own IP address, enter a number between 5 and 254 for the last octet. Otherwise, keep this box blank, and an IP address is automatically assigned from the primary management subnet CIDR.|Primary client private IP (VIP)
(`PrimaryClientPrivateIP`)|`**__Blank string__**`|(Optional) Private IP address of the primary Citrix WAF instance's client network interface. If you want to provide your own IP address, enter a number between 5 and 254 for the last octet. Otherwise, keep this box blank, and an IP address is automatically assigned from the primary client subnet CIDR.|Primary server private IP (SNIP)
(`PrimaryServerPrivateIP`)|`**__Blank string__**`|(Optional) Private IP address of the primary Citrix WAF instance's server network interface. If you want to provide your own IP address, enter a number between 5 and 254 for the last octet. Otherwise, keep this box blank, and an IP address is automatically assigned from the primary server subnet CIDR.|Secondary management private IP (NSIP)
(`SecondaryManagementPrivateIP`)|`**__Blank string__**`|(Optional) Private IP address of the secondary Citrix WAF instance's management network interface. If you want to provide your own IP address, enter a number between 5 and 254 for the last octet. Otherwise, keep this box blank, and an IP address is automatically assigned from the secondary management subnet CIDR.|Secondary client private IP (VIP)
(`SecondaryClientPrivateIP`)|`**__Blank string__**`|(Optional) Private IP address of the secondary Citrix WAF instance's client network interface. If you want to provide your own IP address, enter a number between 5 and 254 for the last octet. Otherwise, keep this box blank, and an IP address is automatically assigned from the secondary client subnet CIDR.|Secondary server private IP (SNIP)
(`SecondaryServerPrivateIP`)|`**__Blank string__**`|(Optional) Private IP address of the secondary Citrix WAF instance's server network interface. If you want to provide your own IP address, enter a number between 5 and 254 for the last octet. Otherwise, keep this box blank, and an IP address is automatically assigned from the secondary server subnet CIDR.|VPC tenancy attribute
(`VPCTenancy`)|`default`|Allowed tenancy of instances launched into the VPC. To launch EC2 instances dedicated to a single customer, choose dedicated. See InstanceTenancy at https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpc.html.
|===
.Bastion host configuration
[width="100%",cols="16%,11%,73%",options="header",]
|===
|Parameter label (name) |Default value|Description|Create bastion host
(`BastionRequired`)|`No`|For a sandbox deployment, choose Yes from the dropdown list. This deploys a Linux bastion host in the public subnet with an Elastic IP address that gives you access to the components in the private and public subnets.
|===
.Citrix WAF configuration
[width="100%",cols="16%,11%,73%",options="header",]
|===
|Parameter label (name) |Default value|Description|Key pair name
(`KeyPairName`)|`**__Requires input__**`|Name of an existing public/private key pair. If you do not have one in this AWS Region, create it before continuing.|Citrix WAF instance type
(`CitrixADCInstanceType`)|`m4.xlarge`|EC2 instance type to use for the WAF instances. Choose an instance type thatâ€™s available in the AWS Marketplace for the Region of deployment.|Citrix WAF AMI ID
(`CitrixADCImageID`)|`**__Blank string__**`|(Optional) AMI ID of the Citrix WAF to be provisioned. If you are opting for a pooled license from ADM, enter the latest BYOL AMI ID. If opting for a PAYG subscription license, enter the AMI ID of the Citrix WAF to be provisioned. If you keep this box blank, Citrix Web App Firewall (WAF) - 200 Mbps Version 13.0-52.24 (https://aws.amazon.com/marketplace/pp/B08286P96W) is provisioned by default.|Citrix WAF IAM role
(`CitrixADCIAMRole`)|`**__Blank string__**`|(Optional) If you want to use an existing role or create a new one, ensure that it has the required permissions, and then enter the name of the role. Otherwise, keep this box blank, and the deployment creates the required IAM role. See https://docs.citrix.com/en-us/citrix-adc/13/deploying-vpx/deploy-aws/prerequisites.html.|Assign Elastic IP address to client VIP
(`ClientEIPRequired`)|`Yes`|Choose No to assign client Elastic IP address manually after the deployment.
|===
.Licensing configuration
[width="100%",cols="16%,11%,73%",options="header",]
|===
|Parameter label (name) |Default value|Description|Pooled license from ADM
(`PooledLicense`)|`No`|If choosing BYOL option for licensing, choose Yes. This would allow you to upload your already purchased licenses. Before choosing Yes, configure Citrix ADM as a license server for the Citrix ADC pooled capacity. Refer to https://docs.citrix.com/en-us/citrix-application-delivery-management-software/13/license-server/adc-pooled-capacity/configuring-adc-pooled-capacity.html#configure-citrix-adm-as-a-license-server for details.|Citrix ADM IP address
(`ADMIP`)|`**__Blank string__**`|(Optional) IP address of the Citrix ADM (deployed either on-premises or as an agent in cloud) reachable from the ADC instances. If using pool licensing, enter an IP address. Otherwise, keep this box blank.|Licensing mode
(`LicensingMode`)|`**__Blank string__**`|(Optional) By default, Citrix Web App Firewall (WAF) - 200 Mbps Version 13.0-52.24 (https://aws.amazon.com/marketplace/pp/B08286P96W) is provisioned. If you are opting for the BYOL license from ADM,
  choose Yes for PooledLicense, enter the latest BYOL AMI ID in the CitrixADCImageID box, and choose one of the three licensing modes:
  Pooled-Licensing, CICO-Licensing (check-in-check-out), CPU-Licensing.|License bandwidth in Mbps
(`Bandwidth`)|`0`|(Optional) Specify only if the licensing mode is Pooled-Licensing. It allocates an initial bandwidth of the license in Mbps to be allocated after BYOL ADCs are created. If using, enter a multiple of 10 Mbps.|Pooled edition
(`PooledEdition`)|`Premium`|(Optional) License edition for pooled capacity licensing mode. This is used only if licensing mode is Pooled-Licensing.|Appliance platform type
(`Platform`)|`**__Blank string__**`|(Optional) Appliance platform type for vCPU licensing mode. If licensing mode is CICO-Licensing, choose VPX-200, VPX-1000, VPX-3000, or VPX-5000.|vCPU Edition
(`VCPUEdition`)|`Premium`|(Optional) License edition for vCPU licensing mode. This is needed only if licensing mode is CPU-Licensing.
|===
.AWS Quick Start configuration
[width="100%",cols="16%,11%,73%",options="header",]
|===
|Parameter label (name) |Default value|Description|Quick Start S3 bucket name
(`QSS3BucketName`)|`aws-quickstart`|S3 bucket that you created for your copy of Quick Start assets. Use this if you decide to customize the Quick Start. This bucket name can include numbers, lowercase letters, uppercase letters, and hyphens but should not start or end with a hyphen.|Quick Start S3 bucket Region
(`QSS3BucketRegion`)|`us-east-1`|AWS Region where the Quick Start S3 bucket (QSS3BucketName) is hosted. When using your own bucket, you must specify this value.|Quick Start S3 key prefix
(`QSS3KeyPrefix`)|`quickstart-citrix-adc-waf/`|S3 key name prefix that is used to simulate a directory for your copy of Quick Start assets. Use this if you decide to customize the Quick Start. This prefix can include numbers, lowercase letters, uppercase letters, hyphens, and forward slashes. See https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingMetadata.html.
|===